<html>
	<head>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" type="text/css" href="t1.css">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.4/p5.js"></script>
		<script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
		<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js" integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30=" crossorigin="anonymous"></script>
		<script src="code.js"></script>
		<script>
			var x = [];
			var number;

            function milliseconds(){
                return new Date().getMilliseconds();
            }

			const time = ()=>`${`${hour()}`.padStart(2,0)}:${`${minute()}`.padStart(2,0)}:${`${second()}`.padStart(2,0)}`.split("");
            
			const RAD = 20;

			function setup() {
			 var myCanvas = createCanvas(RAD*2*4*8, RAD*2*6);
				myCanvas.parent('canvasContainer');
				noStroke();
				textFont('Consolas');
				ellipseMode(RADIUS);
				//for(var i = 0; i < 4; i++){
				//	x[i] = new Cell(50 + i*50, 50,25 , floor(random(13)));
				//}


				number = time().map((c, i)=>new Grid(c, RAD + RAD*8*i, RAD, RAD)) ;

				frameRate(120);
			}
			var digit = 0;
			function draw() {
				background("#0f1317");
				//ellipse(cx, cy, 30, 30);
				//x.forEach(function(c){
				//	if(ls != secs){
				//		c.goToStage( floor(random(13)) );
				//	}
				//	c.update(millis()%1000);
				//	c.display();
				//});
				let t = time()

				number.map( (c, i)=>{
                c.goToNumber( t[i] );                
				c.update(milliseconds()%1000);
				c.display();
				} )
			}
		</script>
	</head>
	<body>
		<div id='canvasContainer'></div>
	</body>
</html>