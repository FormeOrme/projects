<html>

<head>
    <title>Tools - s2b64</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="main.css">
</head>

<body>
    <section>
        <h1><a href="index.html" id="title">T00LS</a></h1>
        <article>
            <label for="input">String</label>
            <div class="hwrapper">
                <span class="hmanager" for="input"></span>
                <textarea id="input" spellcheck="false"></textarea>
            </div>
        </article>
        <article>
            <label for="output">B64</label>
            <div class="hwrapper">
                <span class="hmanager" for="output"></span>
                <textarea id="output" spellcheck="false"></textarea>
            </div>
        </article>
    </section>
    <script>
const CUR = {};

CUR.input = document.getElementById("input");
CUR.output = document.getElementById("output");

CUR.input.addEventListener("input", e => { output.value = output.hmanager.innerText = btoa(input.value); });
CUR.output.addEventListener("input", e => { input.value = input.hmanager.innerText = atob(output.value); });

document.querySelectorAll(".hmanager").forEach(m=>{
    let fv = m.attributes.for.value;
    CUR[fv].hmanager = m;
    CUR[fv].addEventListener("input", e => {
        e.target.hmanager.innerText = e.target.value;
    });
});

    </script>
</body>

</html>